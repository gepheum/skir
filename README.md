[![npm](https://img.shields.io/npm/v/skir)](https://www.npmjs.com/package/skir)
[![build](https://github.com/gepheum/skir/workflows/Build/badge.svg)](https://github.com/gepheum/skir/actions)

# Skir

*Like Protocol Buffer, but better.*

Skir is a universal language for representing data types, constants and RPC interfaces.

```d
// shapes.skir

struct Point {
  x: int32;
  y: int32;
  label: string;
}

struct Shape {
  points: [Point];
  /// A short string describing this shape.
  label: string;
}

const TOP_RIGHT_CORNER: Point = {
  x = 600,
  y = 400,
  label = "top-right corner",
};

/// Returns true if no part of the shape's boundary curves inward.
method IsConvex(Shape): bool = 12345;
```

The Skir compiler translates definitions from `.skir` files into idiomatic source code in supported languages such as TypeScript, Python, Java, Kotlin, C++, Dart. This generated code provides typesafe definitions and built-in logic for serializing and deserializing data into either JSON or a more compact binary format.

```python
# my_project.py

from skirout.shapes_skir import Point  # source file generated by the Skir compiler

point = Point(x=3, y=4, label="P")
point_json = Point.serializer.to_json(point)
assert(Point.serializer.from_json(json) == point)
```

## Why Skir

Skir solves one of software engineering's thorniest problems: **keeping data contracts in sync across teams, languages, and time**. Define your data types and API methods once in a `.skir` schema, and Skir generates idiomatic, type-safe code in multiple languages simultaneously. This single source of truth eliminates entire classes of runtime bugsâ€”no more mismatched request/response shapes, no more surprises when deserializing old data, no more manual synchronization between backend and frontend. Whether you're building microservices, connecting a frontend to your backend, or persisting data for years, Skir gives you the confidence that your data contracts will stay correct.

## Documentation

1.  [Getting started: setup & workflow](docs/setup.md)
2.  [Language reference](docs/language-reference.md)
3.  [Serialization formats](docs/serialization.md)
4.  [Schema evolution & compatibility](docs/compatibility.md)
5.  [Typesafe RPC interfaces](docs/services.md)
6.  [External dependencies](docs/dependencies.md)
7.  [Comparisons](docs/comparisons.md)

## Supported languages

*   JavaScript/TypeScript: [documentation](https://github.com/gepheum/skir-typescript-gen), [example](https://github.com/gepheum/skir-typescript-example)
*   Python: [documentation](https://github.com/gepheum/skir-python-gen), [example](https://github.com/gepheum/skir-python-example)
*   C++: [documentation](https://github.com/gepheum/skir-cc-gen), [example](https://github.com/gepheum/skir-cc-example)
*   Java: [documentation](https://github.com/gepheum/skir-java-gen), [example](https://github.com/gepheum/skir-java-example)
*   Kotlin: [documentation](https://github.com/gepheum/skir-kotlin-gen), [example](https://github.com/gepheum/skir-kotlin-example)
*   Dart: [documentation](https://github.com/gepheum/skir-dart-gen), [example](https://github.com/gepheum/skir-dart-example)

Other official and unofficial code generators will come.
